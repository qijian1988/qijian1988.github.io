webpackJsonp([1],{"889E":function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("7+uW"),i={name:"statistics",props:{dataBase:{type:Object,default:null}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"statistics"},[e("ul",{staticClass:"list"},t._l(t.dataBase.list,function(a,n){return e("li",{key:n},[e("span",{staticClass:"province"},[t._v(t._s(a.name))]),t._v(" "),e("span",{staticClass:"data-info"},[t._v(t._s(a.value)+"次 "+t._s(a.ticketNum)+"人")])])}))])},staticRenderFns:[]};var o=e("VU/8")(i,s,!1,function(t){e("ZTOi")},"data-v-72e81c77",null).exports,r=e("woOf"),c=e.n(r),d=e("XLwt"),l=e.n(d),p=(e("Bhwq"),{props:{mapData:{type:Array,default:null}},data:function(){return{myChart:{},newData:[{name:"南海诸岛",value:0,itemStyle:{normal:{opacity:0,label:{show:!1}}}}]}},computed:{getNewData:function(){var t=["#3679bc","#c2a520","#cf3f3d"],a=this.mapData.map(function(a,e){var n=parseInt(3*Math.random());return c()({},a,{itemStyle:{emphasis:{areaColor:t[n]}}})});return this.newData.concat(a)}},created:function(){this._getMyChart(this.getNewData)},methods:{_initMap:function(){var t=this;t.myChart=l.a.init(document.querySelector(".point .main")),t.myChart.setOption(t.options),t.autoPlay(t.myChart),window.addEventListener("resize",function(){t.myChart.resize()})},_getMyChart:function(t){var a=this;this.options={title:{show:!1},tooltip:{trigger:"item",backgroundColor:"rgba(50,50,50,0.7)",padding:[5,10],formatter:function(t){return'<p style="border-bottom: 1px solid #cbab36; color: #cbab36; font-size: 28px; padding: 10px 0;">本月'+t.data.value+"次，"+t.data.ticketNum+'人</p>\n                       <p style="font-size: 40px; color: #afd5f1; padding: 15px 0;">'+t.data.name+"</p>"}},series:[{type:"map",map:"china",label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{normal:{areaColor:"#122940",borderColor:"#5c708c"}},data:t}]},this.$nextTick(function(){a._initMap()})},autoPlay:function(t){var a=this;a.currentIndex=0,a.timer=setInterval(function(){var e=a.mapData.length+1;t.dispatchAction({type:"mapUnSelect",seriesIndex:0,dataIndex:a.currentIndex}),a.currentIndex+=1,a.currentIndex>e-1&&(a.currentIndex=1),t.dispatchAction({type:"mapSelect",seriesIndex:0,dataIndex:a.currentIndex}),t.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:a.currentIndex})},3e3)}},watch:{mapData:function(){this.myChart.setOption({series:[{data:this.getNewData}]}),clearInterval(this.timer),this.options=this.myChart.getOption(),this._initMap()}}}),u={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{ref:"point",staticClass:"point"},[a("div",{staticClass:"main"})])},staticRenderFns:[]};var m=e("VU/8")(p,u,!1,function(t){e("889E")},"data-v-24f18845",null).exports,h=e("4DoD"),f=e.n(h),g={name:"app",data:function(){return{dataBase:{},mapData:[],flag:!1}},created:function(){this.getData({flag:"0"},this.getMonthData),this.getData({flag:"1"},this.getMapData),this.timer()},methods:{getData:function(t,a){var e=/localhost/g.test(window.location.origin)?"../../static/data.json":window.location.origin+"/pdm/sys/statistics/statisticsNum";f.a.get(e,{param:t}).then(function(t){"0"===t.data.code&&"function"==typeof a&&a(t.data.data)}).catch(function(t){console.log(t)})},getMonthData:function(t){this.dataBase=t},getMapData:function(t){this.mapData=t.list,this.flag=!0},timer:function(){var t=this;setInterval(function(){t.getData({flag:"1"},t.getMapData);var a=new Date,e=a.getHours(),n=a.getMinutes();9===e&&0===n&&t.timer(t.getData({flag:"0"},t.getMonthData))},6e4)}},components:{Statistics:o,VMap:m}},v={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[this.dataBase?a("statistics",{attrs:{dataBase:this.dataBase}}):this._e(),this._v(" "),this.flag?a("div",{staticClass:"map"},[a("v-map",{attrs:{mapData:this.mapData}})],1):this._e()],1)},staticRenderFns:[]};var y=e("VU/8")(g,v,!1,function(t){e("OcZB")},null,null).exports,w=document.documentElement;function D(){var t,a=(t=0,"number"==typeof window.innerWidth?t=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?t=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&(t=document.body.clientWidth),parseInt(t));w.style.fontSize=a/48+"px"}window.onresize=function(){D()},D(),n.a.config.productionTip=!1,new n.a({el:"#app",template:"<App/>",components:{App:y}})},OcZB:function(t,a){},ZTOi:function(t,a){}},["NHnr"]);